#include <SDL2/SDL.h>
#include <stdlib.h>
#include <math.h>
#include "utils/utils.h"

int main(){
  init_sin_lut();

  printf("TESTING VECTOR AND FLOAT UTILS\n");

  for (int i = 0; i < 360; i+=45){
    printf("\tsin of %d is (float_t)%.3f, (fixed_t) %d, real: %lf\n", i, fixed_to_float(fixed_sin(float_to_fixed(deg_to_rad(i)))), fixed_sin(float_to_fixed(deg_to_rad(i))), sin(deg_to_rad(i)));
    printf("\tcos of %d is (float_t)%.3f, (fixed_t) %d, real: %lf\n", i, fixed_to_float(fixed_cos(float_to_fixed(deg_to_rad(i)))), fixed_cos(float_to_fixed(deg_to_rad(i))), cos(deg_to_rad(i)));
  }

  printf("\nTesting Arith:\n");

  float float_b;
  float float_a;

  printf("\tEnter value of A: ");
  scanf("%f", &float_a);

  printf("\tEnter value of B: ");
  scanf("%f", &float_b);

  fixed_t a = float_to_fixed(float_a);
  fixed_t b = float_to_fixed(float_b);

  printf("\tAdd:\n");
  printf("\t\tFIXED: (%d)+(%d) = %d\n", a, b, fixed_add(a, b));
  printf("\t\tFLOAT: (%f)+(%f) = %f\n", fixed_to_float(a), fixed_to_float(b), fixed_to_float(fixed_add(a, b)));
  printf("\t\tREALF: (%f)+(%f) = %f\n", fixed_to_float(a), fixed_to_float(b), fixed_to_float(fixed_add(a, b)));

  return 0;
}
